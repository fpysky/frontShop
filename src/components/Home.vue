<template>
    <div>
        <div class="index-banner">
            <div class="index-banner-content" id="index-banner-content">
                <div class="index-banner-box banner-active">
                    <img src="./../assets/banner1.jpg" alt="">
                </div>
                <div class="index-banner-box" style="background-color:blue">
                    <img src="./../assets/banner2.jpg" alt="">
                </div>
                <div class="index-banner-box" style="background-color:yellow">
                    <img src="./../assets/banner3.jpg" alt="">
                </div>
                <div class="index-banner-box" style="background-color:#cccc">
                    <img src="./../assets/banner4.jpg" alt="">
                </div>
                <div class="index-banner-box" style="background-color:#F56C6C">
                    <img src="./../assets/banner5.jpg" alt="">
                </div>
                <div class="index-banner-box" style="background-color:#F56C6C">
                    <img src="./../assets/banner6.jpg" alt="">
                </div>
            </div>
            <ul class="home-category">
                <li class="home-category-item">
                    <a href="" class="home-category-link">手机</a>
                    <div class="home-category-child">
                        <div class="home-category-child-list">

                        </div>
                    </div>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">智能设备</a>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">游戏设备</a>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">数码影音</a>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">手机周边</a>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">生活周边</a>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">个护健康</a>
                </li>
                <li class="home-category-item">
                    <a href="" class="home-category-link">居家用品</a>
                </li>
            </ul>
        </div>
        <div class="home">
            <div class="home-hot mzcontainer">
                <div class="home-hot-header clearfix">
                    <div class="home-hot-title">
                        <span>热品推荐</span>
                    </div>
                    <div></div>
                </div>
                <div class="home-hot-content">
                    <ul class="home-hot-list" id="home-hot-list">
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                        <li class="home-product">
                            <a class="home-product-link" href="https://detail.meizu.com/item/meilans6.html?click=store_index_rp_1_1" target="_blank" data-mtype="store_index_rp_1_1" data-mdesc="热品推荐第1屏第1个坑">
                                <img class="home-product-img" src="//openfile.meizu.com/group1/M00/03/15/Cgbj0VpqqPyAX6GzAAw27mVWra0873_180x180.png" alt="魅蓝 S6">
                                <h4 class="home-product-title">魅蓝 S6</h4>
                                <h6 class="home-product-subtitle">
                                    <span class="home-product-subtitle-label">热销机型</span>
                                </h6>
                                <p class="home-product-bottom">
                                    <span class="home-product-price">999</span>
                                </p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
export default {
    mounted(){
        this.activeBanner();
        this.homeHotListActive();
    },
    methods:{
        activeBanner(){
            let t = '';
            let timeOut = 5000;
            let index = 1;
            let indexBannerBox = document.getElementsByClassName('index-banner-box');
            function moveFunc(){
                if(indexBannerBox.length != 0){
                    indexBannerBox[index].classList.add('banner-active');
                    for(let i = 0; i < indexBannerBox.length; i++){
                        if(i != index){
                            indexBannerBox[i].classList.remove('banner-active');
                        }
                    }
                    if(index != 5){
                        index++;
                    }else{
                        index = 0;
                    }
                }
            }
            t = setInterval(moveFunc,timeOut);
            //检查浏览器窗口是否被挂起 如果不进行判断 窗口被挂起后定时器会紊乱
            document.addEventListener("visibilitychange", function() {
                if(document.hidden === true) {
                    // 窗口被挂起 停止执行定时器
                    clearInterval(t);
                } else {
                    // 窗口由挂起被激活 继续执行定时器
                    t = setInterval(moveFunc,timeOut);
                }
            })
        },
        homeHotListActive(){
            let t = '';
            let timeOut = 6000;
            let homeHotList = document.getElementById('home-hot-list');
            function moveFunc(){
                if(typeof(homeHotList) != 'undefined'){
                    if(homeHotList.offsetLeft == 0){
                        homeHotList.style.left = '-1240px';
                    }else{
                        homeHotList.style.left = 0;
                    }
                }
            }
            t = setInterval(moveFunc,timeOut);
            //检查浏览器窗口是否被挂起 如果不进行判断 窗口被挂起后定时器会紊乱
            document.addEventListener("visibilitychange", function() {
                if(document.hidden === true) {
                    // 窗口被挂起 停止执行定时器
                    clearInterval(t);
                } else {
                    // 窗口由挂起被激活 继续执行定时器
                    t = setInterval(moveFunc,timeOut);
                }
            })
        },
    },
}
</script>
<style>
    ul{
        margin:0;
        padding:0;
    }
    .index-banner{
        width:100%;
        height:480px;
        position: relative;
    }
    .index-banner .index-banner-content{
        width:100%;
        height:480px;
        position: relative;
        margin:0 auto;
    }
    .index-banner .index-banner-content .index-banner-box{
        width:100%;
        height:480px;
        position:absolute;
        top:0;
        left:0;
        z-index:1;
        opacity: 0;
        transition:opacity .7s;
    }
    .index-banner .index-banner-content .index-banner-box img{
        width:100%;
        height:100%;
    }
    .index-banner .index-banner-content .banner-active{
        z-index:2;
        opacity:1;
    }
    .index-banner .home-category{
        background-color: rgba(248,247,247,.8);
        position: absolute;
        left: 50%;
        top: 0;
        padding:0;
        margin-left: -620px;
        padding-top: 12px;
        height: 480px;
        width: 244px;
        background-color: rgba(248,247,247,.8);
        background-color: #f8f7f7\9;
        z-index: 3;

    }
    .index-banner .home-category .home-category-item{
        height: 57px;
        line-height: 57px;
        background-color: transparent;
        transition: all .5s;
        display: list-item;
        text-align: -webkit-match-parent;
        list-style-type: none;
    }
    .index-banner .home-category .home-category-item:hover a{
        background-color:#fff;
    }
    .index-banner .home-category .home-category-item .home-category-link{
        display: block;
        color: #333;
        padding: 0 30px;
        height: 100%;
        transition:all .4s;
    }
    .index-banner .home-category .home-category-item .home-category-child{
        display: block;
        position: absolute;
        height: 480px;
        left: 244px;
        top: 0;
        background-color: #fff;
        white-space: nowrap;
        font-size: 0;
        box-shadow: 1px 1px 2px rgba(0,0,0,.1);
    }
    .index-banner .home-category .home-category-item .home-category-child .home-category-child-list{
        display: inline-block;
        vertical-align: top;
        margin: 15px 28px 15px 25px;
        width: 320px;
        height: 450px;
    }
    .clearfix {
        zoom: 1;
    }
    .mzcontainer{
        width: 1240px;
        margin: 0 auto;
    }
    .home .home-hot{
        margin: 40px auto;
        height:200px;
    }
    .home .home-hot .home-hot-header{
        margin-bottom: 20px;
    }
    .home .home-hot .home-hot-header .home-hot-title{
        float: left;
        font-size: 24px;
        color: #333;
    }
    .home .home-hot .home-hot-content{
        position: relative;
        width: 1241px;
        height: 340px;
        overflow: hidden;
    }
    .home .home-hot .home-hot-content .home-hot-list{
        position: relative;
        left: 0;
        font-size: 0;
        white-space: nowrap;
        transition: left .5s ease;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product{
        display: inline-block;
        vertical-align: middle;
        border: 1px solid #EFEFEF;
        width: 247px;
        margin-right: -1px;
        transition: z-index .9s;
    }
    .home-product{
        display: inline-block;
        vertical-align: middle;
        border: 1px solid #EFEFEF;
        width: 247px;
        margin-right: -1px;
        transition: z-index .9s;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link{
        display: block;
        height: 100%;
        padding: 0 10px;
        overflow: hidden;
        text-align: center;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link .home-product-img{
        display: block;
        width: 180px;
        height: 180px;
        margin: 36px auto 0;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link .home-product-title{
        font-size: 14px;
        color: #555757;
        margin-top: 40px;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link .home-product-subtitle{
        font-size: 12px;
        color: #999;
        margin-top: 2px;
        color:red;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link .home-product-subtitle .home-product-subtitle-label{
        margin-right: 5px;
        padding: 0 5px;
        color: #fff;
        background-color: #f14361;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link .home-product-bottom{
        color: #e02b41;
        font-size: 12px;
        margin-top: 5px;
    }
    .home .home-hot .home-hot-content .home-hot-list .home-product .home-product-link .home-product-bottom .home-product-price{
        padding-right: 2px;
        margin: 0 4px;
        font-size: 14px;
    }
</style>

